!function(){define(["require","exports","module","beez","beez.touch"],function(t){var e=t("beez"),s=e.getLogger("beez.scroll.view");t("beez.touch");var i=e.touch.View.extend("beez.tab.view",{vidx:"tab",constructor:function(t,e){e=e||{},this._PREFIX=e.prefix||"bztb",this.className=(this.className&&this.className+" "||"")+this._PREFIX+"-tabs",i.__super__.constructor.apply(this,arguments)},initialize:function(t){i.__super__.initialize.apply(this,arguments),t=t||{},t.className=t.className||{},this.options=t,this._width=t.width||"auto",this._height=t.height||"auto",this._adjust=t.adjust||!1,this._CLASSNAME_DISABLE=t.className.disable||"disable",this._CLASSNAME_SELECTED=t.className.selected||"selected",this.vidx=t.vidx||this.vidx,this._template=t.template},beforeOnce:function(){i.__super__.beforeOnce.apply(this,arguments),this.getParent().$el.append(this.$el)},after:function(){i.__super__.after.apply(this,arguments),this._setEvents(),this._onUpdate()},resize:function(t,e){this.$el.css({width:t||this._width,height:e||this._height}),this._width=t,this._height=e},_setEvents:function(){this.listenTo(this.model,"change",this._onUpdate),this.listenTo(this.model,"add",this._onAdd),this.listenTo(this.model,"remove",this._onUpdate)},_onUpdate:function(){this.$el.html(""),this.model.each(function(t){this._onAdd(t)},this)},_onAdd:function(t){var e,s=t.toJSON();e=this._template?$(this._template(s),{"class":this._PREFIX+"-tab"}):$("<div />",{"class":this._PREFIX+"-tab",text:s.label}),s.disable&&e.addClass(this._CLASSNAME_DISABLE),s.selected&&e.addClass(this._CLASSNAME_SELECTED),this.tap(e,function(t){t.stopPropagation(),this._onTap(t)},this),this.$el.append(e)},onChange:function(){},_onTap:function(t){s.trace("on tap");var e=this.$el.find("."+this._PREFIX+"-tab").index($(t.currentTarget)),i=this.model.at(e);i.get("disable")||this.model.update(i)},_onTouchStart:function(){s.trace("on touch start")},_onTouchEnd:function(){s.trace("on touch end")},dispose:function(){i.__super__.dispose.apply(this,arguments)}});return i})}(this);